<html>
<head>
<!-- MIT License Copyright (c) 2024 pj-corridor.net -->
<meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1' />
<meta charset='utf-8' />
<script async src='https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7863584801355594' crossorigin='anonymous'></script>
<style type='text/css'>

#iEvaluate {
	position : relative;
	overflow : hidden;
	background-color : #eeeeee;
	-webkit-mask-image : linear-gradient(
		to bottom,
		black 0%,
		black 50%,
		transparent 100%
	);
	mask-image: linear-gradient(
		to bottom,
		black 0%,
		black 50%,
		transparent 100%
	);
}

#iTestList {
	transition : transform 0.40s cubic-bezier(.22,.61,.36,1);
}

label:has(input:enabled):hover {
	background-color : yellow;
	border-radius : 5px;
	padding-right : 0.5em;
}

#iBack {
	appearance : none;
	-webkit-appearance : none;
	background : none;
	border : none;
	position : absolute;
	right : 20px;
	top : 50%;
	transform : translateY(-50%) translateX(-50%);
	z-index : 10;
	width : 2.5em;
	transition : transform 0.15s ease, opacity 0.15s ease;
}

#iBack svg {
	width : 40px;
	display: block;
	transition: transform 0.15s ease;
}

#iBack:hover svg {
	transform: scale(1.10);
}

#iBack:active svg {
	transform: scale(0.90);
}

</style>
</head>
<body>

<div id='iEvaluate' style='display : none;'>
<div id='iInvoking'  style='display : none;'>
<svg width='48' height='48' viewBox='0 0 50 50'>
	<circle cx='25' cy='25' r='20' fill='none' stroke='#999999' stroke-width='4' stroke-linecap='round' stroke-dasharray='90 150'>
		<animateTransform attributeName='transform' type='rotate' from='0 25 25' to='360 25 25' dur='0.8s' repeatCount='indefinite' />
	</circle>
</svg>
</div>
<div id='iTestList'>
</div>
<button id='iBack' type='button' aria-label='Back'>
	<svg viewBox='0 0 64 64' width='64' height='64'>
		<circle cx='32' cy='32' r='32' fill='#111111'/>
		<path d='M20 38 L32 26 L44 38' fill='none' stroke='#ffffff' stroke-width='6' stroke-linecap='round' stroke-linejoin='round' />
	</svg>
</button>
</div>
<div id='iFeedback' style='display : none;'>
</div>

<script>

class i18n {
	static #defaultLang = 'en';
	static #supportLang = ['ja', i18n.#defaultLang, 'fr', 'de', 'es', 'pt', 'hi', 'ko', 'zh'];
	static #browserLang;
	static {
		const raw = navigator.languages?.[0] || navigator.language || i18n.#defaultLang;
		const lang = raw.toLowerCase();
		i18n.#browserLang = i18n.#defaultLang;
		for (let i = 0; i < i18n.#supportLang.length; i++) {
			if (lang.startsWith(i18n.#supportLang[i])) {
				i18n.#browserLang = i18n.#supportLang[i];
				break;
			}
		}
		// const forTest = 'en';
		// i18n.#browserLang = forTest;
	}
	static #fnv1a32(in_text) {
		let h = 0x811c9dc5;
		for (let i = 0; i < in_text.length; i++) {
			h ^= in_text.charCodeAt(i);
			h = Math.imul(h, 0x01000193);
		}
		return (h >>> 0).toString(16);
	}
	static #mapping = Object.create(null);
	static text(in_hash, in_denyConflict = true) {
		if (Object.hasOwn(in_hash, i18n.#defaultLang)) {
			if (Object.hasOwn(in_hash, i18n.#browserLang)) {
				const key = i18n.#fnv1a32(in_hash[i18n.#browserLang]);
				if (Object.hasOwn(i18n.#mapping, key) && in_denyConflict) {
					throw new Error(key + ' already exist');
				}
				i18n.#mapping[key] = in_hash[i18n.#defaultLang];
				return in_hash[i18n.#browserLang];
			} else {
				return in_hash[i18n.#defaultLang];
			}
		} else {
			throw new Error(i18n.#defaultLang + ' is required.');
		}
	}
	static defaultLangText(in_text) {
		const key = i18n.#fnv1a32(in_text);
		if (Object.hasOwn(i18n.#mapping, key)) {
			return i18n.#mapping[key];
		} else {
			return in_text;
		}
	}
}

const TYPES = Object.freeze({
	C : 'Controller',
	A : 'Analyzer',
	P : 'Promoter',
	S : 'Supporter'
});

const RED = '#FF0000';
const SKYBLUE = '#5588FF';
const GREEN = '#118811';
const ORANGE = '#FFAA00';

const MATRIX = Object.freeze({
	STATEMENT : {
		S : i18n.text({
			en : 'Strong in asserting opinions',
			ja : '主張が強め',
			fr : 'Affirmation des opinions plus marquée',
			de : 'Meinungen werden stärker vertreten',
			es : 'Expresión de opiniones más marcada',
			pt : 'Expressa opiniões de forma mais firme',
			hi : 'राय दृढ़ रूप से व्यक्त करता है',
			ko : '의견 주장이 비교적 강함',
			zh : '主张表达较强'
		}),
		W : i18n.text({
			en : 'Subtle in asserting opinions',
			ja : '主張が弱め',
			fr : 'Affirmation des opinions plus discrète',
			de : 'Meinungen werden eher zurückhaltend vertreten',
			es : 'Expresión de opiniones más sutil',
			pt : 'Expressa opiniões de forma mais sutil',
			hi : 'राय कम दृढ़ता से व्यक्त करता है',
			ko : '의견 주장이 비교적 약함',
			zh : '主张表达较弱'
		})
	},
	SENTIMENT : {
		S : i18n.text({
			en : 'Expresses emotions strongly',
			ja : '感情表現強め',
			fr : 'Exprime fortement ses émotions',
			de : 'Drückt Emotionen stark aus',
			es : 'Expresa las emociones con intensidad',
			pt : 'Expressa emoções de forma intensa',
			hi : 'भावनाएँ प्रबल रूप से व्यक्त करता है',
			ko : '감정 표현이 강함',
			zh : '情感表达较强'
		}),
		W : i18n.text({
			en : 'Expresses emotions subtly',
			ja : '感情表現弱め',
			fr : 'Exprime ses émotions de manière plus discrète',
			de : 'Drückt Emotionen eher zurückhaltend aus',
			es : 'Expresa las emociones con menor intensidad',
			pt : 'Expressa emoções de forma mais sutil',
			hi : 'भावनाएँ कम प्रबल रूप से व्यक्त करता है',
			ko : '감정 표현이 비교적 약함',
			zh : '情感表达较弱'
		})
	}
});

const FEATURES = Object.freeze({
	[TYPES.C] : {
		COLOR : RED,
		TITLE : i18n.text({
			en : 'Plays a central role as a key strategist and field commander.',
			ja : '司令塔として活躍',
			fr : 'Joue un rôle central en tant que stratège et chef d’orchestre.',
			de : 'Spielt eine zentrale Rolle als strategischer Kopf und Koordinator.',
			es : 'Desempeña un papel central como estratega y coordinador.',
			pt : 'Desempenha um papel central como estrategista-chave e líder operacional.',
			hi : 'मुख्य रणनीतिकार और संचालन नेता के रूप में केंद्रीय भूमिका निभाता है।',
			ko : '전략가이자 지휘자로서 중심적인 역할을 수행한다.',
			zh : '作为战略核心和指挥者发挥关键作用。'
		}),
		MATRIX : {STATEMENT : 'S', SENTIMENT : 'W', POSITION : 'RT'},
		DETAILS : [
			i18n.text({
				en : 'Action-oriented, ambitious, and energetic.',
				ja : '行動的、野心的、エネルギッシュ。',
				fr : 'Orienté vers l’action, ambitieux et énergique.',
				de : 'Handlungsorientiert, ehrgeizig und energisch.',
				es : 'Orientado a la acción, ambicioso y enérgico.',
				pt : 'Orientado para a ação, ambicioso e enérgico.',
				hi : 'कार्य-केंद्रित, महत्वाकांक्षी और ऊर्जावान।',
				ko : '행동 지향적이고 야심차며 에너지가 넘친다.',
				zh : '行动导向，雄心勃勃，精力充沛。'
			}),
			i18n.text({
				en : 'Likes to push things forward in their own way.',
				ja : '自分の思い通りに物事を進めたがる。',
				fr : 'Aime faire avancer les choses à sa manière.',
				de : 'Möchte Dinge auf eigene Weise vorantreiben.',
				es : 'Le gusta impulsar las cosas a su manera.',
				pt : 'Gosta de fazer as coisas avançarem à sua própria maneira.',
				hi : 'अपनी ही शैली में काम को आगे बढ़ाना पसंद करता है।',
				ko : '자기 방식대로 일을 추진하는 것을 좋아한다.',
				zh : '喜欢按照自己的方式推进事情。'
			}),
			i18n.text({
				en : 'Decisive.',
				ja : '決断力がある。',
				fr : 'Décisif.',
				de : 'Entscheidungsfreudig.',
				es : 'Decidido.',
				pt : 'Decidido.',
				hi : 'निर्णायक।',
				ko : '결단력이 있다.',
				zh : '有决断力。'
			}),
			i18n.text({
				en : 'Dominant and intimidating.',
				ja : '支配的、威圧的。',
				fr : 'Dominant et intimidant.',
				de : 'Dominant und einschüchternd.',
				es : 'Dominante e intimidante.',
				pt : 'Dominante e intimidador.',
				hi : 'प्रभावशाली और दबदबा रखने वाला।',
				ko : '지배적이고 위압적이다.',
				zh : '具有支配性，给人压迫感。'
			}),
			i18n.text({
				en : 'Prioritizes work over relationships.',
				ja : '人間関係よりも仕事優先。',
				fr : 'Donne la priorité au travail plutôt qu’aux relations.',
				de : 'Stellt Arbeit über Beziehungen.',
				es : 'Prioriza el trabajo sobre las relaciones.',
				pt : 'Prioriza o trabalho em vez dos relacionamentos.',
				hi : 'संबंधों की तुलना में काम को प्राथमिकता देता है।',
				ko : '인간관계보다 일을 우선시한다.',
				zh : '把工作置于人际关系之上。'
			}),
			i18n.text({
				en : 'Entrepreneurial type.',
				ja : '企業家タイプ。',
				fr : 'Profil entrepreneurial.',
				de : 'Unternehmerischer Typ.',
				es : 'Tipo emprendedor.',
				pt : 'Perfil empreendedor.',
				hi : 'उद्यमी प्रवृत्ति वाला।',
				ko : '기업가형이다.',
				zh : '企业家型。'
			}),
			i18n.text({
				en : 'Has a strong sense of justice.',
				ja : '正義感が強い。',
				fr : 'A un fort sens de la justice.',
				de : 'Hat ein starkes Gerechtigkeitsempfinden.',
				es : 'Tiene un fuerte sentido de la justicia.',
				pt : 'Tem um forte senso de justiça.',
				hi : 'न्याय की प्रबल भावना रखता है।',
				ko : '정의감이 강하다.',
				zh : '具有强烈的正义感。'
			}),
			i18n.text({
				en : 'Moves at a fast pace.',
				ja : 'ペースが速い。',
				fr : 'Avance à un rythme rapide.',
				de : 'Arbeitet in hohem Tempo.',
				es : 'Se mueve a un ritmo rápido.',
				pt : 'Move-se em um ritmo acelerado.',
				hi : 'तेज़ गति से काम करता है।',
				ko : '속도가 빠르다.',
				zh : '节奏很快。'
			}),
			i18n.text({
				en : 'Dislikes overly defensive attitudes; honest and open.',
				ja : '保身的な態度を嫌い、正直であけっぴろげな性格。',
				fr : 'N’aime pas les attitudes défensives excessives ; honnête et franc.',
				de : 'Mag keine übermäßig defensiven Haltungen; ehrlich und offen.',
				es : 'No le gustan las actitudes excesivamente defensivas; es honesto y abierto.',
				pt : 'Não gosta de atitudes excessivamente defensivas; é honesto e aberto.',
				hi : 'अत्यधिक रक्षात्मक रवैया पसंद नहीं करता; ईमानदार और खुला स्वभाव।',
				ko : '지나치게 방어적인 태도를 싫어하며 솔직하고 개방적이다.',
				zh : '不喜欢过度自保的态度，坦率直爽。'
			}),
			i18n.text({
				en : 'Not good at looking inward or reflecting on themselves.',
				ja : '自分の内面に目を向けるのは苦手。',
				fr : 'Peu enclin à l’introspection.',
				de : 'Nicht gut in Selbstreflexion.',
				es : 'No es bueno para la introspección.',
				pt : 'Não é bom em introspecção ou autoanálise.',
				hi : 'आत्मचिंतन या आत्मविश्लेषण में कुशल नहीं।',
				ko : '자기 성찰이 서툴다.',
				zh : '不擅长自我反省。'
			}),
			i18n.text({
				en : 'Tends to rush to conclusions without listening to others.',
				ja : '人の話を聞かず結論を急ぐ。',
				fr : 'Tend à tirer des conclusions hâtives sans écouter les autres.',
				de : 'Zieht vorschnell Schlüsse, ohne anderen zuzuhören.',
				es : 'Tiende a sacar conclusiones sin escuchar a los demás.',
				pt : 'Tende a tirar conclusões precipitadas sem ouvir os outros.',
				hi : 'दूसरों की बात सुने बिना निष्कर्ष पर पहुँचने की प्रवृत्ति।',
				ko : '타인의 말을 듣지 않고 성급히 결론을 내리는 경향이 있다.',
				zh : '容易在未听取他人意见时仓促下结论。'
			})
		]
	},
	[TYPES.A] : {
		COLOR : SKYBLUE,
		TITLE : i18n.text({
			en : 'Responsible for analysis and strategic planning.',
			ja : '分析や戦略を担う',
			fr : 'Responsable de l’analyse et de la stratégie.',
			de : 'Verantwortlich für Analyse und Strategie.',
			es : 'Responsable del análisis y la estrategia.',
			pt : 'Responsável pela análise e pelo planejamento estratégico.',
			hi : 'विश्लेषण और रणनीतिक योजना के लिए जिम्मेदार।',
			ko : '분석과 전략을 담당한다.',
			zh : '负责分析与战略制定。'
		}),
		MATRIX : {STATEMENT : 'W', SENTIMENT : 'W', POSITION : 'RB'},
		DETAILS : [
			i18n.text({
				en : 'Cautious in action.',
				ja : '行動は慎重。',
				fr : 'Prudent dans ses actions.',
				de : 'Handelt vorsichtig.',
				es : 'Cauto al actuar.',
				pt : 'Cauteloso ao agir.',
				hi : 'कार्य करते समय सावधान रहता है।',
				ko : '행동이 신중하다.',
				zh : '行动谨慎。'
			}),
			i18n.text({
				en : 'Gathers data and analyzes it when tackling tasks.',
				ja : '物事に取り組むとき、データを集め分析する。',
				fr : 'Recueille et analyse des données lorsqu’il entreprend une tâche.',
				de : 'Sammelt und analysiert Daten bei Aufgaben.',
				es : 'Recoge y analiza datos al abordar tareas.',
				pt : 'Coleta e analisa dados ao realizar tarefas.',
				hi : 'कार्य करते समय डेटा एकत्र करता है और उसका विश्लेषण करता है।',
				ko : '일을 할 때 데이터를 수집하고 분석한다.',
				zh : '处理事务时会收集并分析数据。'
			}),
			i18n.text({
				en : 'Enjoys making plans.',
				ja : '計画を立てるのが好き。',
				fr : 'Aime planifier.',
				de : 'Plant gern.',
				es : 'Disfruta hacer planes.',
				pt : 'Gosta de fazer planos.',
				hi : 'योजनाएँ बनाना पसंद करता है।',
				ko : '계획 세우는 것을 좋아한다.',
				zh : '喜欢制定计划。'
			}),
			i18n.text({
				en : 'Objective and calm.',
				ja : '客観的、冷静。',
				fr : 'Objectif et calme.',
				de : 'Objektiv und ruhig.',
				es : 'Objetivo y tranquilo.',
				pt : 'Objetivo e calmo.',
				hi : 'वस्तुनिष्ठ और शांत।',
				ko : '객관적이고 침착하다.',
				zh : '客观冷静。'
			}),
			i18n.text({
				en : 'Dislikes failure and mistakes.',
				ja : '失敗や間違いが嫌い。',
				fr : 'N’aime pas l’échec ni les erreurs.',
				de : 'Mag weder Fehler noch Misserfolg.',
				es : 'No le gustan los fracasos ni los errores.',
				pt : 'Não gosta de fracassos nem de erros.',
				hi : 'असफलता और गलतियों को पसंद नहीं करता।',
				ko : '실패나 실수를 싫어한다.',
				zh : '讨厌失败和错误。'
			}),
			i18n.text({
				en : 'Prefers structured systems and rules.',
				ja : '系統だった物事や規則を好む。',
				fr : 'Préfère les systèmes et règles structurés.',
				de : 'Bevorzugt strukturierte Systeme und Regeln.',
				es : 'Prefiere sistemas y reglas estructurados.',
				pt : 'Prefere sistemas e regras estruturados.',
				hi : 'संरचित प्रणालियों और नियमों को पसंद करता है।',
				ko : '체계적인 시스템과 규칙을 선호한다.',
				zh : '偏好结构化的体系和规则。'
			}),
			i18n.text({
				en : 'Persistent and sees things through to the end.',
				ja : '粘り強く、最後までやり遂げる。',
				fr : 'Persévérant, va jusqu’au bout des choses.',
				de : 'Ausdauernd und bringt Dinge zu Ende.',
				es : 'Persistente y termina lo que empieza.',
				pt : 'Persistente e leva as coisas até o fim.',
				hi : 'लगातार प्रयास करता है और काम को अंत तक पूरा करता है।',
				ko : '끈기 있게 끝까지 해낸다.',
				zh : '坚持不懈，善始善终。'
			}),
			i18n.text({
				en : 'Weak in the face of change and confusion.',
				ja : '変化や混乱には弱い。',
				fr : 'Peu à l’aise face au changement et à la confusion.',
				de : 'Hat Schwierigkeiten mit Veränderungen und Chaos.',
				es : 'Débil ante el cambio y la confusión.',
				pt : 'Tem dificuldade diante de mudanças e confusão.',
				hi : 'परिवर्तन और अव्यवस्था के सामने कमजोर पड़ जाता है।',
				ko : '변화나 혼란에 약하다.',
				zh : '对变化和混乱较为脆弱。'
			}),
			i18n.text({
				en : 'Focuses on predicting the future.',
				ja : '未来を予測することに注力する。',
				fr : 'Se concentre sur la prévision de l’avenir.',
				de : 'Konzentriert sich auf Zukunftsprognosen.',
				es : 'Se enfoca en predecir el futuro.',
				pt : 'Foca na previsão do futuro.',
				hi : 'भविष्य की भविष्यवाणी करने पर ध्यान केंद्रित करता है।',
				ko : '미래를 예측하는 데 집중한다.',
				zh : '专注于预测未来。'
			}),
			i18n.text({
				en : 'Delivers steady and high-quality work.',
				ja : '堅実で優れた仕事をする。',
				fr : 'Fournit un travail stable et de haute qualité.',
				de : 'Liefert solide und qualitativ hochwertige Arbeit.',
				es : 'Realiza un trabajo constante y de alta calidad.',
				pt : 'Entrega um trabalho consistente e de alta qualidade.',
				hi : 'स्थिर और उच्च गुणवत्ता वाला काम करता है।',
				ko : '꾸준하고 수준 높은 일을 한다.',
				zh : '工作稳健且高质量。'
			}),
			i18n.text({
				en : 'Communicates clearly and logically.',
				ja : '明確で論理的な話し方をする。',
				fr : 'Communique de manière claire et logique.',
				de : 'Kommuniziert klar und logisch.',
				es : 'Se comunica de forma clara y lógica.',
				pt : 'Comunica-se de forma clara e lógica.',
				hi : 'स्पष्ट और तार्किक ढंग से संवाद करता है।',
				ko : '명확하고 논리적으로 말한다.',
				zh : '表达清晰且有逻辑。'
			})
		]
	},
	[TYPES.P] : {
		COLOR : ORANGE,
		TITLE : i18n.text({
			en : 'Energizes and enlivens team activities.',
			ja : '活動を盛り上げる',
			fr : 'Dynamise et anime les activités.',
			de : 'Belebt und fördert die Aktivitäten.',
			es : 'Anima y dinamiza las actividades.',
			pt : 'Energiza e dinamiza as atividades da equipe.',
			hi : 'टीम की गतिविधियों में ऊर्जा और उत्साह भरता है।',
			ko : '활동 분위기를 띄우고 활력을 불어넣는다.',
			zh : '活跃并带动团队活动氛围。'
		}),
		MATRIX : {STATEMENT : 'S', SENTIMENT : 'S', POSITION : 'LT'},
		DETAILS : [
			i18n.text({
				en : 'Full of ideas and highly creative.',
				ja : 'アイデアが豊富で創造力もある。',
				fr : 'Riche en idées et très créatif.',
				de : 'Ideenreich und sehr kreativ.',
				es : 'Lleno de ideas y muy creativo.',
				pt : 'Cheio de ideias e altamente criativo.',
				hi : 'विचारों से भरपूर और अत्यंत रचनात्मक।',
				ko : '아이디어가 풍부하고 창의적이다.',
				zh : '点子丰富且富有创造力。'
			}),
			i18n.text({
				en : 'Enjoys doing lively activities with others.',
				ja : '人と活気のあることをするのが好き。',
				fr : 'Aime les activités dynamiques avec les autres.',
				de : 'Mag lebhafte Aktivitäten mit anderen.',
				es : 'Disfruta actividades dinámicas con otros.',
				pt : 'Gosta de realizar atividades animadas com outras pessoas.',
				hi : 'दूसरों के साथ उत्साहपूर्ण गतिविधियाँ करना पसंद करता है।',
				ko : '사람들과 활기찬 활동을 즐긴다.',
				zh : '喜欢与他人一起进行充满活力的活动。'
			}),
			i18n.text({
				en : 'Loves new things and is energetic.',
				ja : '新しいことが好きでエネルギッシュ。',
				fr : 'Aime les nouveautés et déborde d’énergie.',
				de : 'Liebt Neues und ist energiegeladen.',
				es : 'Le gustan las cosas nuevas y es enérgico.',
				pt : 'Gosta de coisas novas e é enérgico.',
				hi : 'नई चीज़ों को पसंद करता है और ऊर्जावान है।',
				ko : '새로운 것을 좋아하고 에너지가 넘친다.',
				zh : '喜欢新事物，精力充沛。'
			}),
			i18n.text({
				en : 'Does not worry much about details.',
				ja : '細かいことはあまり気に留めない。',
				fr : 'Ne se soucie pas trop des détails.',
				de : 'Achtet nicht sehr auf Details.',
				es : 'No se preocupa demasiado por los detalles.',
				pt : 'Não se preocupa muito com detalhes.',
				hi : 'विवरणों की ज्यादा चिंता नहीं करता।',
				ko : '세부적인 부분에는 크게 신경 쓰지 않는다.',
				zh : '不太在意细节。'
			}),
			i18n.text({
				en : 'Not good at planning or sticking to plans.',
				ja : '計画を立てたり計画通りに進めるのは苦手。',
				fr : 'Peu doué pour planifier ou suivre un plan.',
				de : 'Nicht gut im Planen oder Einhalten von Plänen.',
				es : 'No es bueno planificando o siguiendo planes.',
				pt : 'Não é bom em planejar ou seguir planos.',
				hi : 'योजना बनाना या योजना के अनुसार काम करना कठिन लगता है।',
				ko : '계획을 세우거나 그대로 실행하는 데 서툴다.',
				zh : '不擅长制定或遵循计划。'
			}),
			i18n.text({
				en : 'Gets bored easily.',
				ja : 'あきっぽい。',
				fr : 'Se lasse facilement.',
				de : 'Wird schnell gelangweilt.',
				es : 'Se aburre fácilmente.',
				pt : 'Entedia-se facilmente.',
				hi : 'जल्दी ऊब जाता है।',
				ko : '쉽게 싫증을 낸다.',
				zh : '容易感到厌倦。'
			}),
			i18n.text({
				en : 'Strong against change and chaos; highly adaptable.',
				ja : '変化、混乱に強く、順応性が高い。',
				fr : 'Résistant au changement et au chaos ; très adaptable.',
				de : 'Gut im Umgang mit Veränderung und Chaos; sehr anpassungsfähig.',
				es : 'Fuerte ante el cambio y el caos; muy adaptable.',
				pt : 'Lida bem com mudanças e caos; altamente adaptável.',
				hi : 'परिवर्तन और अव्यवस्था में मजबूत; अत्यंत अनुकूलनशील।',
				ko : '변화와 혼란에 강하고 적응력이 높다.',
				zh : '对变化和混乱适应力强。'
			}),
			i18n.text({
				en : 'Good at starting new work, but not good at regular check-ins once a project is underway.',
				ja : '新しい仕事を始めるのは得意だが、プロジェクトが進んでからの定期点検は苦手。',
				fr : 'Doué pour démarrer de nouveaux projets, mais moins pour le suivi régulier.',
				de : 'Gut im Starten neuer Projekte, aber weniger im kontinuierlichen Monitoring.',
				es : 'Bueno iniciando proyectos nuevos, pero no tanto en el seguimiento constante.',
				pt : 'É bom em iniciar novos trabalhos, mas não em acompanhamentos regulares após o início do projeto.',
				hi : 'नए कार्य की शुरुआत में अच्छा, लेकिन परियोजना शुरू होने के बाद नियमित निगरानी में कमजोर।',
				ko : '새 일을 시작하는 데는 강하지만, 진행 중인 프로젝트를 꾸준히 점검하는 것은 약하다.',
				zh : '擅长启动新项目，但不擅长持续跟进。'
			}),
			i18n.text({
				en : 'Enjoys freely envisioning the future.',
				ja : '未来を自由に描くことを好む。',
				fr : 'Aime imaginer librement l’avenir.',
				de : 'Stellt sich gern frei die Zukunft vor.',
				es : 'Disfruta imaginar libremente el futuro.',
				pt : 'Gosta de imaginar livremente o futuro.',
				hi : 'भविष्य की स्वतंत्र रूप से कल्पना करना पसंद करता है।',
				ko : '미래를 자유롭게 상상하는 것을 좋아한다.',
				zh : '喜欢自由地描绘未来。'
			}),
			i18n.text({
				en : 'Likes taking charge and is good at it.',
				ja : '物事を仕切るのが好きで、また得意である。',
				fr : 'Aime prendre les rênes et y excelle.',
				de : 'Übernimmt gern die Führung und ist gut darin.',
				es : 'Le gusta liderar y es bueno haciéndolo.',
				pt : 'Gosta de assumir o controle e é bom nisso.',
				hi : 'नेतृत्व करना पसंद करता है और इसमें कुशल है।',
				ko : '주도권을 잡는 것을 좋아하고 잘한다.',
				zh : '喜欢并擅长掌控全局。'
			})
		]
	},
	[TYPES.S] : {
		COLOR : GREEN,
		TITLE : i18n.text({
			en : 'Provides steady support behind the scenes.',
			ja : '縁の下からの支援',
			fr : 'Apporte un soutien constant en coulisses.',
			de : 'Leistet verlässliche Unterstützung im Hintergrund.',
			es : 'Brinda apoyo constante desde las sombras.',
			pt : 'Oferece apoio constante nos bastidores.',
			hi : 'पर्दे के पीछे से स्थिर और भरोसेमंद समर्थन प्रदान करता है।',
			ko : '보이지 않는 곳에서 든든하게 지원한다.',
			zh : '在幕后提供坚实的支持。'
		}),
		MATRIX : {STATEMENT : 'W', SENTIMENT : 'S', POSITION : 'LB'},
		DETAILS : [
			i18n.text({
				en : 'Enjoys helping and supporting others.',
				ja : '人を援助することを好む。',
				fr : 'Aime aider et soutenir les autres.',
				de : 'Hilft und unterstützt andere gern.',
				es : 'Disfruta ayudar y apoyar a los demás.',
				pt : 'Gosta de ajudar e apoiar os outros.',
				hi : 'दूसरों की सहायता और समर्थन करना पसंद करता है।',
				ko : '다른 사람을 돕고 지원하는 것을 좋아한다.',
				zh : '喜欢帮助和支持他人。'
			}),
			i18n.text({
				en : 'Warm and gentle.',
				ja : '暖かく、穏やか。',
				fr : 'Chaleureux et doux.',
				de : 'Warmherzig und sanft.',
				es : 'Cálido y amable.',
				pt : 'Acolhedor e gentil.',
				hi : 'गरमजोशी भरा और सौम्य।',
				ko : '따뜻하고 온화하다.',
				zh : '温暖而温和。'
			}),
			i18n.text({
				en : 'Highly cooperative and motivated in the workplace.',
				ja : '職場では協調性が高く、意欲もある。',
				fr : 'Très coopératif et motivé au travail.',
				de : 'Sehr kooperativ und motiviert am Arbeitsplatz.',
				es : 'Muy cooperativo y motivado en el trabajo.',
				pt : 'Altamente cooperativo e motivado no ambiente de trabalho.',
				hi : 'कार्यस्थल पर अत्यंत सहयोगी और प्रेरित।',
				ko : '직장에서 협조적이며 의욕적이다.',
				zh : '在职场中高度合作且积极。'
			}),
			i18n.text({
				en : 'Not very interested in setting plans or goals.',
				ja : '計画や目標を立てることには関心がない。',
				fr : 'Peu intéressé par la planification ou la fixation d’objectifs.',
				de : 'Wenig Interesse an Planung oder Zielsetzung.',
				es : 'No muestra mucho interés en planificar o fijar metas.',
				pt : 'Não demonstra muito interesse em definir planos ou metas.',
				hi : 'योजना या लक्ष्य निर्धारित करने में अधिक रुचि नहीं रखता।',
				ko : '계획이나 목표 설정에는 큰 관심이 없다.',
				zh : '对制定计划或目标兴趣不大。'
			}),
			i18n.text({
				en : 'Takes time to make decisions.',
				ja : '決断に時間がかかる。',
				fr : 'Prend du temps pour décider.',
				de : 'Braucht Zeit für Entscheidungen.',
				es : 'Tarda en tomar decisiones.',
				pt : 'Leva tempo para tomar decisões.',
				hi : 'निर्णय लेने में समय लेता है।',
				ko : '결정을 내리는 데 시간이 걸린다.',
				zh : '做决定需要时间。'
			}),
			i18n.text({
				en : 'Good at understanding the emotions of others.',
				ja : '人の心を読むのが得意。',
				fr : 'Doué pour comprendre les émotions des autres.',
				de : 'Versteht die Gefühle anderer gut.',
				es : 'Bueno comprendiendo las emociones de los demás.',
				pt : 'É bom em compreender as emoções dos outros.',
				hi : 'दूसरों की भावनाओं को समझने में कुशल।',
				ko : '타인의 감정을 잘 이해한다.',
				zh : '善于理解他人的情绪。'
			}),
			i18n.text({
				en : 'Has strong intuition.',
				ja : '直観力がある。',
				fr : 'A une forte intuition.',
				de : 'Hat eine starke Intuition.',
				es : 'Tiene una fuerte intuición.',
				pt : 'Tem forte intuição.',
				hi : 'मजबूत अंतर्ज्ञान रखता है।',
				ko : '직관력이 강하다.',
				zh : '直觉敏锐。'
			}),
			i18n.text({
				en : 'Makes judgments based on emotions.',
				ja : '感情に基づいて判断する。',
				fr : 'Prend des décisions basées sur les émotions.',
				de : 'Trifft Entscheidungen auf emotionaler Basis.',
				es : 'Toma decisiones basadas en emociones.',
				pt : 'Toma decisões baseadas nas emoções.',
				hi : 'भावनाओं के आधार पर निर्णय लेता है।',
				ko : '감정에 기반해 판단한다.',
				zh : '基于情感做判断。'
			}),
			i18n.text({
				en : 'Not comfortable taking risks.',
				ja : 'リスクを冒すのは苦手。',
				fr : 'Peu à l’aise avec la prise de risques.',
				de : 'Geht ungern Risiken ein.',
				es : 'No se siente cómodo asumiendo riesgos.',
				pt : 'Não se sente confortável ao assumir riscos.',
				hi : 'जोखिम उठाने में सहज नहीं है।',
				ko : '위험을 감수하는 데 서툴다.',
				zh : '不喜欢承担风险。'
			}),
			i18n.text({
				en : 'Prioritizes relationships over business.',
				ja : 'ビジネスよりも人間関係優先。',
				fr : 'Priorise les relations humaines aux affaires.',
				de : 'Stellt Beziehungen über geschäftliche Aspekte.',
				es : 'Prioriza las relaciones sobre los negocios.',
				pt : 'Prioriza os relacionamentos em vez dos negócios.',
				hi : 'व्यवसाय की तुलना में संबंधों को प्राथमिकता देता है।',
				ko : '비즈니스보다 인간관계를 우선시한다.',
				zh : '把人际关系置于商业事务之上。'
			})
		]
	}
});

const LT50LLM = 'The result does not show any tendencies of ';

const LEVELS = new Map([
	[
		80,
		{
			LLM : 'The result strongly shows ',
			UI : i18n.text({
				en : 'You strongly show the following tendencies.',
				ja : 'あなたには以下の傾向が強くみられます',
				fr : 'Vous montrez fortement les tendances suivantes.',
				de : 'Sie zeigen stark die folgenden Tendenzen.',
				es : 'Muestras fuertemente las siguientes tendencias.',
				pt : 'Você demonstra fortemente as seguintes tendências.',
				hi : 'आपमें निम्नलिखित प्रवृत्तियाँ प्रबल रूप से दिखाई देती हैं।',
				ko : '당신에게는 다음과 같은 성향이 강하게 나타납니다.',
				zh : '你明显表现出以下倾向。'
			})
		}
	],
	[
		70,
		{
			LLM : 'The result shows ',
			UI : i18n.text({
				en : 'You show the following tendencies.',
				ja : 'あなたには以下の傾向がみられます',
				fr : 'Vous montrez les tendances suivantes.',
				de : 'Sie zeigen die folgenden Tendenzen.',
				es : 'Muestras las siguientes tendencias.',
				pt : 'Você demonstra as seguintes tendências.',
				hi : 'आपमें निम्नलिखित प्रवृत्तियाँ दिखाई देती हैं।',
				ko : '당신에게는 다음과 같은 성향이 나타납니다.',
				zh : '你表现出以下倾向。'
			})
		}
	],
	[
		60,
		{
			LLM : 'The result slightly shows ',
			UI : i18n.text({
				en : 'You slightly show the following tendencies.',
				ja : 'あなたには以下の傾向が少しみられます',
				fr : 'Vous montrez légèrement les tendances suivantes.',
				de : 'Sie zeigen die folgenden Tendenzen leicht.',
				es : 'Muestras ligeramente las siguientes tendencias.',
				pt : 'Você demonstra levemente as seguintes tendências.',
				hi : 'आपमें निम्नलिखित प्रवृत्तियाँ थोड़ी दिखाई देती हैं।',
				ko : '당신에게는 다음과 같은 성향이 약간 나타납니다.',
				zh : '你略微表现出以下倾向。'
			})
		}
	]
]);

const ANSWERS = Object.freeze([
	i18n.text({
		en : 'Applies',
		ja : 'あてはまる',
		fr : 'Correspond',
		de : 'Trifft zu',
		es : 'Se aplica',
		pt : 'Aplica-se',
		hi : 'लागू होता है',
		ko : '해당된다',
		zh : '符合'
	}),
	i18n.text({
		en : 'Somewhat applies',
		ja : '少しあてはまる',
		fr : 'Correspond un peu',
		de : 'Trifft etwas zu',
		es : 'Se aplica un poco',
		pt : 'Aplica-se um pouco',
		hi : 'कुछ हद तक लागू होता है',
		ko : '조금 해당된다',
		zh : '有些符合'
	}),
	i18n.text({
		en : 'Somewhat does not apply',
		ja : '少しあてはまらない',
		fr : 'Correspond peu',
		de : 'Trifft eher nicht zu',
		es : 'Se aplica poco',
		pt : 'Aplica-se pouco',
		hi : 'कुछ हद तक लागू नहीं होता',
		ko : '조금 해당되지 않는다',
		zh : '有些不符合'
	}),
	i18n.text({
		en : 'Does not apply',
		ja : 'あてはまらない',
		fr : 'Ne correspond pas',
		de : 'Trifft nicht zu',
		es : 'No se aplica',
		pt : 'Não se aplica',
		hi : 'लागू नहीं होता',
		ko : '해당되지 않는다',
		zh : '不符合'
	})
]);

const QUESTIONS = [
	// 1-10
	{
		Desc : i18n.text({
			en : 'Not good at asserting oneself',
			ja : '自己主張が下手',
			fr : 'Pas doué pour s’affirmer',
			de : 'Nicht gut darin, sich durchzusetzen',
			es : 'No es bueno afirmándose',
			pt : 'Não é bom em se afirmar.',
			hi : 'अपनी बात दृढ़ता से रखने में कुशल नहीं।',
			ko : '자기주장이 서툴다',
			zh : '不擅长表达主张'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Always passionate about the future',
			ja : '常に未来に対して情熱をもっている',
			fr : 'Toujours passionné par l’avenir',
			de : 'Stets leidenschaftlich in Bezug auf die Zukunft',
			es : 'Siempre apasionado por el futuro',
			pt : 'Sempre apaixonado pelo futuro.',
			hi : 'भविष्य के प्रति हमेशा उत्साही रहता है।',
			ko : '항상 미래에 대해 열정적이다',
			zh : '对未来始终充满热情'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Sometimes feels frustrated when help is not appreciated',
			ja : '援助が感謝されず悔しくおもうことがある',
			fr : 'Se sent frustré lorsque son aide n’est pas appréciée',
			de : 'Fühlt sich frustriert, wenn Hilfe nicht geschätzt wird',
			es : 'Se siente frustrado cuando su ayuda no es apreciada',
			pt : 'Às vezes sente frustração quando sua ajuda não é reconhecida.',
			hi : 'जब सहायता की सराहना नहीं होती तो कभी-कभी निराश महसूस करता है।',
			ko : '도움이 인정받지 못하면 속상하다',
			zh : '当帮助未被感谢时会感到沮丧'
		}),
		Eval : {[TYPES.S] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Has a strong competitive spirit',
			ja : '競争心が強いほうだ',
			fr : 'A un fort esprit de compétition',
			de : 'Hat einen starken Wettbewerbsgeist',
			es : 'Tiene un fuerte espíritu competitivo',
			pt : 'Tem um forte espírito competitivo.',
			hi : 'प्रतिस्पर्धी भावना प्रबल है।',
			ko : '경쟁심이 강하다',
			zh : '竞争心强'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Often gives a cold impression at first meeting',
			ja : '初対面で冷たい印象を与えがち',
			fr : 'Donne souvent une impression froide au premier abord',
			de : 'Wirkt beim ersten Treffen oft kühl',
			es : 'Suele dar una impresión fría al conocerlo',
			pt : 'Frequentemente causa uma impressão fria no primeiro encontro.',
			hi : 'पहली मुलाकात में अक्सर ठंडा प्रभाव देता है।',
			ko : '첫인상이 차갑게 보일 때가 있다',
			zh : '初次见面容易给人冷淡印象'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Does not easily open up to others',
			ja : '他人になかなか気を許さない',
			fr : 'Ne s’ouvre pas facilement aux autres',
			de : 'Öffnet sich anderen nicht leicht',
			es : 'No se abre fácilmente a los demás',
			pt : 'Não se abre facilmente para os outros.',
			hi : 'दूसरों के सामने आसानी से खुलता नहीं है।',
			ko : '타인에게 쉽게 마음을 열지 않는다',
			zh : '不容易向他人敞开心扉'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Does not care how others see them and feels happy',
			ja : '他人にどう思われようと意に介さず、自分はいつも幸せだ',
			fr : 'Ne se soucie pas du regard des autres et se sent heureux',
			de : 'Kümmert sich nicht um die Meinung anderer und ist glücklich',
			es : 'No le importa cómo lo ven los demás y se siente feliz',
			pt : 'Não se importa com a opinião dos outros e sente-se feliz.',
			hi : 'दूसरे क्या सोचते हैं इसकी परवाह नहीं करता और खुश रहता है।',
			ko : '타인의 시선을 신경 쓰지 않고 행복하다',
			zh : '不在意他人看法并感到幸福'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Wants others to evaluate their work output',
			ja : '仕事のアウトプットについて他人から評価されたい',
			fr : 'Souhaite que son travail soit évalué par les autres',
			de : 'Möchte für seine Arbeit anerkannt werden',
			es : 'Desea que su trabajo sea evaluado por otros',
			pt : 'Quer que os outros avaliem seu trabalho.',
			hi : 'अपने काम के परिणामों का मूल्यांकन दूसरों से चाहता है।',
			ko : '업무 성과를 타인에게 인정받고 싶다',
			zh : '希望他人评价自己的工作成果'
		}),
		Eval : {[TYPES.S] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Not good at asking others about things they do not know',
			ja : '知らないことを他人に聞くのは苦手',
			fr : 'A du mal à demander ce qu’il ne sait pas',
			de : 'Tut sich schwer, andere nach Unbekanntem zu fragen',
			es : 'Le cuesta preguntar lo que no sabe',
			pt : 'Tem dificuldade em perguntar aos outros sobre o que não sabe.',
			hi : 'जो नहीं जानता, उसके बारे में पूछने में संकोच करता है।',
			ko : '모르는 것을 묻는 것이 어렵다',
			zh : '不擅长向他人询问不懂的事情'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Sometimes feels jealous when friends talk closely with others',
			ja : '友人が自分以外の人と親しげに話していると嫉妬心を感じることがある',
			fr : 'Ressent parfois de la jalousie lorsque des amis parlent à d’autres',
			de : 'Ist manchmal eifersüchtig, wenn Freunde mit anderen sprechen',
			es : 'A veces siente celos cuando sus amigos hablan con otros',
			pt : 'Às vezes sente ciúmes quando amigos conversam intimamente com outras pessoas.',
			hi : 'कभी-कभी ईर्ष्या महसूस करता है जब मित्र दूसरों से घनिष्ठता से बात करते हैं।',
			ko : '친구가 다른 사람과 가까이 지내면 질투를 느낀다',
			zh : '朋友与他人亲近时会感到嫉妒'
		}),
		Eval : {[TYPES.S] : 1}
	},
	// 11-20
	{
		Desc : i18n.text({
			en : 'Finds it hard to say no when asked for favors',
			ja : '人から頼み事をされるとなかなか嫌とは言えない',
			fr : 'A du mal à refuser une demande',
			de : 'Kann schwer Nein sagen',
			es : 'Le cuesta decir no',
			pt : 'Tem dificuldade em dizer não quando lhe pedem favores.',
			hi : 'जब कोई अनुरोध करता है तो “ना” कहना कठिन लगता है।',
			ko : '부탁을 거절하기 어렵다',
			zh : '难以拒绝他人的请求'
		}),
		Eval : {[TYPES.S] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Likes to stand out at parties and gatherings',
			ja : 'パーティー等では目立ちたがる',
			fr : 'Aime se faire remarquer en soirée',
			de : 'Steht gern im Mittelpunkt bei Feiern',
			es : 'Le gusta destacar en reuniones',
			pt : 'Gosta de se destacar em festas e reuniões.',
			hi : 'पार्टियों और सभाओं में अलग दिखना पसंद करता है।',
			ko : '모임에서 주목받는 것을 좋아한다',
			zh : '在聚会中喜欢引人注目'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Makes a plan before doing something',
			ja : '何かをするときはまず計画をたてる',
			fr : 'Planifie avant d’agir',
			de : 'Plant vor dem Handeln',
			es : 'Planifica antes de actuar',
			pt : 'Faz um plano antes de agir.',
			hi : 'कुछ करने से पहले योजना बनाता है।',
			ko : '행동 전에 계획을 세운다',
			zh : '行动前会制定计划'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Seeks agreement from others when making decisions',
			ja : '何かを決めるときに他人の同意を求める',
			fr : 'Cherche l’accord des autres pour décider',
			de : 'Sucht Zustimmung bei Entscheidungen',
			es : 'Busca acuerdo al tomar decisiones',
			pt : 'Busca a concordância dos outros ao tomar decisões.',
			hi : 'निर्णय लेते समय दूसरों की सहमति चाहता है।',
			ko : '결정할 때 타인의 동의를 구한다',
			zh : '做决定时会征求他人同意'
		}),
		Eval : {[TYPES.S] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Often ends up taking charge without noticing',
			ja : '気がつくと場を仕切っていることが多い',
			fr : 'Se retrouve souvent à diriger sans s’en rendre compte',
			de : 'Übernimmt oft unbewusst die Führung',
			es : 'A menudo termina liderando sin notarlo',
			pt : 'Muitas vezes acaba assumindo a liderança sem perceber.',
			hi : 'अक्सर बिना ध्यान दिए नेतृत्व संभाल लेता है।',
			ko : '자연스럽게 주도권을 잡는 경우가 많다',
			zh : '常常不知不觉地掌控局面'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Strong against change and adaptable',
			ja : '変化に強く適応力がある',
			fr : 'Résistant au changement et adaptable',
			de : 'Anpassungsfähig bei Veränderungen',
			es : 'Se adapta bien al cambio',
			pt : 'É resistente a mudanças e adaptável.',
			hi : 'परिवर्तन के प्रति मजबूत और अनुकूलनशील है।',
			ko : '변화에 강하고 적응력이 있다',
			zh : '对变化适应力强'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Not good at expressing personal emotions',
			ja : '自分の感情を表現することが苦手',
			fr : 'A du mal à exprimer ses émotions',
			de : 'Tut sich schwer, Gefühle auszudrücken',
			es : 'Le cuesta expresar emociones',
			pt : 'Tem dificuldade em expressar emoções pessoais.',
			hi : 'अपनी भावनाओं को व्यक्त करने में कुशल नहीं।',
			ko : '감정을 표현하는 것이 어렵다',
			zh : '不擅长表达自己的情绪'
		}),
		Eval : {[TYPES.A] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Pushes through work even when tired',
			ja : '疲れていても無理をおして仕事をする',
			fr : 'Travaille même lorsqu’il est fatigué',
			de : 'Arbeitet trotz Müdigkeit weiter',
			es : 'Trabaja incluso cuando está cansado',
			pt : 'Continua trabalhando mesmo quando está cansado.',
			hi : 'थकान के बावजूद काम जारी रखता है।',
			ko : '피곤해도 일을 계속한다',
			zh : '即使疲惫也坚持工作'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Gets irritated when things do not go as expected',
			ja : '思い通りにならないとイライラする',
			fr : 'S’énerve lorsque les choses ne vont pas comme prévu',
			de : 'Wird gereizt, wenn Dinge nicht wie geplant laufen',
			es : 'Se irrita cuando las cosas no salen como quiere',
			pt : 'Fica irritado quando as coisas não saem como esperado.',
			hi : 'जब चीजें उम्मीद के मुताबिक नहीं होतीं तो चिढ़ जाता है।',
			ko : '뜻대로 되지 않으면 짜증이 난다',
			zh : '事情不如意时容易烦躁'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Puts personal needs aside when in a team',
			ja : 'チームでいるときは自分のことは後回しにする',
			fr : 'Met ses besoins personnels de côté en équipe',
			de : 'Stellt eigene Bedürfnisse im Team zurück',
			es : 'Deja de lado sus necesidades en equipo',
			pt : 'Coloca as próprias necessidades em segundo plano quando está em equipe.',
			hi : 'टीम में होने पर अपनी जरूरतों को पीछे रखता है।',
			ko : '팀에서는 자신의 일을 뒤로 미룬다',
			zh : '在团队中会把自己放在后面'
		}),
		Eval : {[TYPES.S] : 1}
	},
	// 21-30
	{
		Desc : i18n.text({
			en : 'Tries to do as much as possible in a short time',
			ja : '短時間に出来るだけ多くのことをしようとする',
			fr : 'Essaie d’accomplir le plus possible en peu de temps',
			de : 'Versucht, in kurzer Zeit möglichst viel zu erledigen',
			es : 'Intenta hacer lo máximo posible en poco tiempo',
			pt : 'Tenta fazer o máximo possível em pouco tempo.',
			hi : 'कम समय में जितना संभव हो उतना करने की कोशिश करता है।',
			ko : '짧은 시간에 최대한 많은 일을 하려고 한다',
			zh : '在短时间内尽量做更多事情'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Easily notices flaws in others',
			ja : '他人の欠点を見つけやすい',
			fr : 'Remarque facilement les défauts des autres',
			de : 'Bemerkt leicht die Schwächen anderer',
			es : 'Detecta fácilmente los defectos de los demás',
			pt : 'Percebe facilmente as falhas dos outros.',
			hi : 'दूसरों की कमियों को आसानी से पहचान लेता है।',
			ko : '타인의 단점을 쉽게 알아차린다',
			zh : '容易发现他人的缺点'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Has a playful and cheerful side',
			ja : '自分は子供っぽいところがあり、陽気である',
			fr : 'A un côté joueur et joyeux',
			de : 'Hat eine verspielte und fröhliche Seite',
			es : 'Tiene un lado alegre y juguetón',
			pt : 'Tem um lado brincalhão e alegre.',
			hi : 'चंचल और प्रसन्न स्वभाव का है।',
			ko : '장난기 있고 쾌활한 면이 있다',
			zh : '有孩子气且开朗的一面'
		}),
		Eval : {[TYPES.P] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Is a perfectionist',
			ja : '完全主義者である',
			fr : 'Est perfectionniste',
			de : 'Ist perfektionistisch',
			es : 'Es perfeccionista',
			pt : 'É perfeccionista.',
			hi : 'पूर्णतावादी है।',
			ko : '완벽주의자이다',
			zh : '是完美主义者'
		}),
		Eval : {[TYPES.C] : 1}
	},
	{
		Desc : i18n.text({
			en : 'Does not do things without being convinced',
			ja : '納得しないことはやらない',
			fr : 'Ne fait rien sans être convaincu',
			de : 'Tut nichts, ohne überzeugt zu sein',
			es : 'No hace nada sin estar convencido',
			pt : 'Não faz nada sem estar convencido.',
			hi : 'जब तक आश्वस्त न हो, कोई काम नहीं करता।',
			ko : '납득하지 않으면 하지 않는다',
			zh : '不认同的事情不会去做'
		}),
		Eval : {[TYPES.C] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Is ambitious',
			ja : '野心家である',
			fr : 'Est ambitieux',
			de : 'Ist ehrgeizig',
			es : 'Es ambicioso',
			pt : 'É ambicioso.',
			hi : 'महत्वाकांक्षी है।',
			ko : '야심가이다',
			zh : '有野心'
		}),
		Eval : {[TYPES.C] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Recovers quickly from failure',
			ja : '失敗しても立ち直りが早い',
			fr : 'Se remet vite d’un échec',
			de : 'Erholt sich schnell von Misserfolgen',
			es : 'Se recupera rápido del fracaso',
			pt : 'Recupera-se rapidamente do fracasso.',
			hi : 'असफलता से जल्दी उबर जाता है।',
			ko : '실패해도 빨리 회복한다',
			zh : '从失败中恢复得快'
		}),
		Eval : {[TYPES.P] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Evaluates the positive side of things and is optimistic',
			ja : '物事の良い面を評価し、楽観的である',
			fr : 'Voit le côté positif et reste optimiste',
			de : 'Sieht das Positive und ist optimistisch',
			es : 'Ve el lado positivo y es optimista',
			pt : 'Avalia o lado positivo das coisas e é otimista.',
			hi : 'चीज़ों के सकारात्मक पक्ष को देखता है और आशावादी है।',
			ko : '긍정적인 면을 보고 낙관적이다',
			zh : '看到积极面并保持乐观'
		}),
		Eval : {[TYPES.P] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Tends to care about how others evaluate them',
			ja : '他人の評価を気にしがち',
			fr : 'Se soucie de l’évaluation des autres',
			de : 'Achtet stark auf die Bewertung anderer',
			es : 'Le importa la opinión de los demás',
			pt : 'Tende a se preocupar com a avaliação dos outros.',
			hi : 'दूसरे कैसे मूल्यांकन करते हैं, इसकी चिंता करता है।',
			ko : '타인의 평가를 신경 쓴다',
			zh : '在意他人的评价'
		}),
		Eval : {[TYPES.S] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Often compares self with others',
			ja : '自分と他人をよく比較する',
			fr : 'Se compare souvent aux autres',
			de : 'Vergleicht sich oft mit anderen',
			es : 'Se compara frecuentemente con otros',
			pt : 'Compara-se frequentemente com os outros.',
			hi : 'अक्सर खुद की तुलना दूसरों से करता है।',
			ko : '자주 자신을 타인과 비교한다',
			zh : '经常与他人比较'
		}),
		Eval : {[TYPES.S] : 2}
	},
	// 31-40
	{
		Desc : i18n.text({
			en : 'Makes decisions after evaluating a lot of information',
			ja : '多くの情報を評価～検討してから決断する',
			fr : 'Décide après avoir évalué beaucoup d’informations',
			de : 'Trifft Entscheidungen nach gründlicher Analyse',
			es : 'Decide tras evaluar mucha información',
			pt : 'Toma decisões após avaliar muitas informações.',
			hi : 'बहुत सी जानकारी का मूल्यांकन करने के बाद निर्णय लेता है।',
			ko : '많은 정보를 검토한 후 결정한다',
			zh : '在充分分析信息后再做决定'
		}),
		Eval : {[TYPES.A] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Not good at casual conversation',
			ja : '他愛の無い会話が苦手だ',
			fr : 'N’est pas à l’aise avec les petites conversations',
			de : 'Nicht gut im Smalltalk',
			es : 'No es bueno en conversaciones triviales',
			pt : 'Não é bom em conversas triviais.',
			hi : 'साधारण बातचीत में कुशल नहीं।',
			ko : '잡담이 서툴다',
			zh : '不擅长闲聊'
		}),
		Eval : {[TYPES.A] : 2}
	},
	{
		Desc : i18n.text({
			en : 'Believes serving others is important',
			ja : '他人に奉仕することは大事だ',
			fr : 'Pense que servir les autres est important',
			de : 'Hält es für wichtig, anderen zu dienen',
			es : 'Cree que servir a otros es importante',
			pt : 'Acredita que servir aos outros é importante.',
			hi : 'मानता है कि दूसरों की सेवा करना महत्वपूर्ण है।',
			ko : '타인을 돕는 것이 중요하다고 생각한다',
			zh : '认为服务他人很重要'
		}),
		Eval : {
			[TYPES.C] : -1,
			[TYPES.S] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Ends up taking care of even disliked people',
			ja : '嫌いな人に対しても世話を焼いてしまう',
			fr : 'Prend soin même des personnes qu’il n’aime pas',
			de : 'Kümmert sich sogar um Personen, die er nicht mag',
			es : 'Cuida incluso a personas que no le agradan',
			pt : 'Acaba cuidando até de pessoas de quem não gosta.',
			hi : 'नापसंद लोगों की भी देखभाल कर बैठता है।',
			ko : '싫어하는 사람도 돌본다',
			zh : '即使讨厌的人也会照顾'
		}),
		Eval : {
			[TYPES.C] : -1,
			[TYPES.S] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Is rather shy around strangers',
			ja : 'どちらかといえば人見知りだ',
			fr : 'Plutôt timide avec les inconnus',
			de : 'Eher schüchtern gegenüber Fremden',
			es : 'Algo tímido con desconocidos',
			pt : 'É um pouco tímido com estranhos.',
			hi : 'अजनबियों के साथ थोड़ा संकोची है।',
			ko : '낯을 가리는 편이다',
			zh : '在陌生人面前较为害羞'
		}),
		Eval : {
			[TYPES.P] : -1,
			[TYPES.A] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Thinks carefully before taking action',
			ja : '行動を起こす前によく考える',
			fr : 'Réfléchit bien avant d’agir',
			de : 'Denkt sorgfältig nach, bevor er handelt',
			es : 'Reflexiona antes de actuar',
			pt : 'Pensa cuidadosamente antes de agir.',
			hi : 'कार्य करने से पहले ध्यानपूर्वक सोचता है।',
			ko : '행동 전에 신중히 생각한다',
			zh : '行动前深思熟虑'
		}),
		Eval : {
			[TYPES.P] : -1,
			[TYPES.A] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Clearly states dislikes',
			ja : '嫌なことは嫌だとはっきり述べる',
			fr : 'Exprime clairement ce qu’il n’aime pas',
			de : 'Sagt klar, was ihm nicht gefällt',
			es : 'Expresa claramente lo que no le gusta',
			pt : 'Expressa claramente o que não gosta.',
			hi : 'जो पसंद नहीं है उसे स्पष्ट रूप से कहता है।',
			ko : '싫은 것은 분명히 말한다',
			zh : '明确表达不喜欢的事情'
		}),
		Eval : {
			[TYPES.S] : -1,
			[TYPES.C] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Frankly expresses personal thoughts',
			ja : '自分が思ったことは率直に述べる',
			fr : 'Exprime franchement ses pensées',
			de : 'Spricht offen seine Meinung aus',
			es : 'Expresa francamente sus pensamientos',
			pt : 'Expressa seus pensamentos de forma franca.',
			hi : 'अपने विचार स्पष्ट और बेझिझक व्यक्त करता है।',
			ko : '생각을 솔직히 말한다',
			zh : '坦率表达自己的想法'
		}),
		Eval : {
			[TYPES.S] : -1,
			[TYPES.C] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Often described as a fun person',
			ja : '楽しい人だとよく言われる',
			fr : 'Est souvent décrit comme amusant',
			de : 'Wird oft als unterhaltsam beschrieben',
			es : 'Suele ser descrito como divertido',
			pt : 'Frequentemente é descrito como uma pessoa divertida.',
			hi : 'अक्सर मज़ेदार व्यक्ति के रूप में वर्णित किया जाता है।',
			ko : '재미있는 사람이라는 말을 자주 듣는다',
			zh : '常被说是有趣的人'
		}),
		Eval : {
			[TYPES.A] : -1,
			[TYPES.P] : 1
		}
	},
	{
		Desc : i18n.text({
			en : 'Talks more than listens to others',
			ja : '他人の話を聞くよりも、自分が話していることの方が多い',
			fr : 'Parle plus qu’il n’écoute',
			de : 'Spricht mehr als er zuhört',
			es : 'Habla más de lo que escucha',
			pt : 'Fala mais do que ouve os outros.',
			hi : 'दूसरों को सुनने से अधिक स्वयं बोलता है।',
			ko : '남의 말보다 자신이 더 많이 말한다',
			zh : '说得比听得多'
		}),
		Eval : {
			[TYPES.A] : -1,
			[TYPES.P] : 1
		}
	}
];

function culcScore(in_sum, in_eval, in_answer_ix) {
	/*
		in_sum, in_eval :

		{
			[TYPES.X] : {
				full : 99,
				user : 99
			},
			[TYPES.Y] : {
				full : 99,
				user : 99
			},
			...
		}
	*/
	const culcrated = {...in_sum};
	for (const caps of Object.values(TYPES)) {
		if (!Object.hasOwn(in_eval, caps)) {
			continue;
		}
		const maxIx = ANSWERS.length - 1;
		const weight = in_eval[caps];
		const incTotal = maxIx * Math.abs(weight);
		let incScore;
		if (weight > 0) {
			incScore = (maxIx - in_answer_ix) * weight;
		} else {
			incScore = in_answer_ix * Math.abs(weight);
		}
		const curr = culcrated[caps] ?? {full : 0, user : 0};
		culcrated[caps] = {
			full : curr.full + incTotal,
			user : curr.user + incScore
		};
	}
	return culcrated;
}

class cCard {
	static margin = '1.5em';
	static #E = in_name => document.createElement(in_name);
	static #T = in_text => document.createTextNode(in_text);
	#root = null;
	constructor(in_qArr, in_qIx, in_aArr) {
		/*
			card
			|
			+- question
			|
			+- options
				|
				+- component
				|	|
				|	+- label
				|		|
				|		+- input
				|		|
				|		+- ANSWERS[0]
				|
				+- ...
		*/
		const prefix = crypto.randomUUID();
		this.#root = cCard.#E('div');
		this.#root.style.margin = cCard.margin;
		const question = cCard.#E('div');
		question.style.marginBottom = '0.5em';
		question.className = 'cQuestion';
		const count = '( ' + (in_qIx + 1) + ' / ' + in_qArr.length + ' )';
		question.textContent = count + ' ' + in_qArr[in_qIx].Desc;
		this.#root.appendChild(question);
		const options = cCard.#E('div');
		for (let aIx = 0; aIx < in_aArr.length; aIx++) {
			const component = cCard.#E('div');
			const label = cCard.#E('label');
			label.htmlFor = prefix + '-' + aIx;
			component.appendChild(label);
			const input = cCard.#E('input');
			input.id = label.htmlFor;
			input.type = 'radio';
			input.checked = false;
			input.disabled = true;
			input.name = prefix;
			input.dataset.q = String(in_qIx);
			input.dataset.a = String(aIx);
			label.appendChild(input);
			label.appendChild(cCard.#T(in_aArr[aIx]));
			options.appendChild(component);
		}
		this.#root.appendChild(options);
		this.#root.addEventListener('change', in_ev => {
			if (in_ev.target instanceof HTMLInputElement) {
				const ev = new CustomEvent('answered', {
					bubbles : true,
					detail : this.getResult()
				});
				this.#root.dispatchEvent(ev);
			}
		});
	}
	get element() {
		return this.#root;
	}
	#forEachInput(in_callback) {
		const nodeList = this.#root.querySelectorAll('input');
		nodeList.forEach(in_node => in_callback(in_node));
	}
	disable() {
		this.#forEachInput(in_input => {
			in_input.disabled = true;
		});	}
	enable(in_duration = 0) {
		setTimeout(() => {
			this.#forEachInput(in_input => {
				in_input.checked = false;
				in_input.disabled = false;
			});
		}, in_duration);
	}
	getResult() {
		const result = {qIx : -1, aIx : -1};
		this.#forEachInput(in_input => {
			result.qIx = Number(in_input.dataset.q);
			if (in_input.checked) {
				result.aIx = Number(in_input.dataset.a);
			}
		});
		return result;
	}
}

function scroll(in_card, in_list) {
	const styles = getComputedStyle(in_card.element);
	const offset = in_card.element.offsetTop - parseFloat(styles.marginTop);
	in_list.style.transform = 'translateY(' + (offset * -1) + 'px)';
}

function composeResult(in_callback) {
	const result = {llmSummary : [], llmQaArr : [], uiScores : {}, uiTrait : {}};
	/*
		|
		+- llmSummary
		|	|
		|	+- [0]
		|	|
		|	+- ...
		|
		+- llmQaArr
		|	|
		|	+- [0]
		|	|	|
		|	|	+- q : 'xxx'
		|	|	|
		|	|	+- a : 'yyy'
		|	|
		|	+- ...
		|
		+- uiScores
		|	|
		|	+- 'Controller'
		|	|	|
		|	|	+- full : 99
		|	|	|
		|	|	+- user : 99
		|	|	|
		|	|	+- rank : 99
		|	|
		|	+- ...
		|
		+- uiTrait
			|
			+- lv1 / lv2 / lv3
				|
				+- [0]
				|
				+- ...
	*/
	// 1. scoring
	for (let qIx = 0; qIx < QUESTIONS.length; qIx++) {
		const aIx = (in_callback)(qIx);
		result.llmQaArr.push({
			q : i18n.defaultLangText(QUESTIONS[qIx].Desc),
			a : i18n.defaultLangText(ANSWERS[aIx])
		});
		result.uiScores = culcScore(result.uiScores, QUESTIONS[qIx].Eval, aIx);
	}
	// 2. ranking + adhoc trick for tie-break
	const tempArr = Object.entries(result.uiScores).map(([in_caps, in_score]) => ({caps : in_caps, user : in_score.user}));
	tempArr.sort((a, b) => b.user - a.user);
	result.uiScores[tempArr[1].caps].user--;
	tempArr.forEach((in_e, in_ix) => result.uiScores[in_e.caps].rank = in_ix + 1);
	// 3. enriching according to LEVELS
	const summary = {};
	for (const [feature, {full, user}] of Object.entries(result.uiScores)) {
		const percent = (user / full) * 100;
		for (const [threshold, {LLM, UI}] of LEVELS.entries()) {
			if (percent < threshold) {
				continue;
			}
			// summary ( for llmSummary )
			if (!Object.hasOwn(summary, LLM)) {
				summary[LLM] = [];
			}
			summary[LLM].push(feature);
			// uiTrait
			if (!Object.hasOwn(result.uiTrait, UI)) {
				result.uiTrait[UI] = [];
			}
			FEATURES[feature].DETAILS.forEach(in_feature => {
				result.uiTrait[UI].push(in_feature);
			});
			break;
		}
	}
	const f = new Intl.ListFormat('en', {style : 'long', type : 'conjunction'});
	if (Object.keys(summary).length > 0) {
		for (const [key, value] of Object.entries(summary)) {
			result.llmSummary.push(key + f.format(value) + '.');
		}
	} else {
		result.llmSummary.push(LT50LLM + f.format(Object.values(TYPES)) + '.');
	}
	// console.log(result);
	return result;
}

class cState {
	static #UI = Object.freeze({
		EVALUATE : Symbol(),
		INVOKING : Symbol(),
		FEEDBACK : Symbol()
	});
	static #TRANSITIONS = {
		[cState.#UI.EVALUATE] : {
			finish : cState.#UI.INVOKING,
			cached : cState.#UI.FEEDBACK
		},
		[cState.#UI.INVOKING] : {
			result : cState.#UI.FEEDBACK
		},
		[cState.#UI.FEEDBACK] : {
			retry : cState.#UI.EVALUATE
		}
	};
	#curr = null;
	constructor() {
		this.#curr = cState.#UI.EVALUATE;
		this.#apply();
	}
	#transition(in_action) {
		const next = cState.#TRANSITIONS[this.#curr]?.[in_action];
		if (!next) {
			throw new Error('invalid transition : ' + in_action);
		}
		this.#curr = next;
	}
	#apply() {
		const css = in_sel => document.querySelector(in_sel).style;
		const evaluate = css('#iEvaluate');
		const feedback = css('#iFeedback');
		const invoking = css('#iInvoking');
		switch (this.#curr) {
		case cState.#UI.EVALUATE:
			evaluate.display = '';
			evaluate.opacity = '';
			evaluate.pointerEvents = '';
			feedback.display = 'none';
			invoking.display = 'none';
			break;
		case cState.#UI.INVOKING:
			evaluate.display = '';
			evaluate.opacity = '0.5';
			evaluate.pointerEvents = 'none'; 
			feedback.display = 'none';
			invoking.display = '';
			invoking.position = 'absolute';
			invoking.left = '50%';
			invoking.top = '50%';
			invoking.transform = 'translate(-50%, -50%)';
			break;
		case cState.#UI.FEEDBACK:
			evaluate.display = 'none';
			feedback.display = '';
			invoking.display = 'none';
			break;
		}
	}
	finish() {
		this.#transition('finish');
		this.#apply();
	}
	cached() {
		this.#transition('cached');
		this.#apply();
	}
	result() {
		this.#transition('result');
		this.#apply();
	}
	retry() {
		this.#transition('retry');
		this.#apply();
	}
}

const gState = new cState();

function wrapping(in_child) {
	const wrapper = document.createElement('div');
	wrapper.style.display = 'flex';
	wrapper.style.justifyContent = 'center';
	wrapper.style.margin = '2em 0em';
	wrapper.appendChild(in_child);
	return wrapper;
}

function createUiBar(in_score) {
	/*
		table ( grid + rounded box )
		|
		+- tr
		|	|
		|	+- td
		|	|	|
		|	|	+- bg ( div )
		|	|		|
		|	|		+- fg ( div )
		|	|
		|	+- ...
		|
		+- ...
	*/
	const table = document.createElement('table');
	Object.assign(table.style, {
		width : '90%',
		maxWidth : '600px',
		border: '2px solid #ccc',
		borderRadius: '5px',
		padding : '1em'
	});
	for (const caps of Object.values(TYPES)) {
		const tr = document.createElement('tr');
		table.appendChild(tr);
		const {user, full} = in_score[caps];
		const percent = Math.round((user / full) * 100);
		// label
		const labelCell = document.createElement('td');
		tr.appendChild(labelCell);
		labelCell.style.whiteSpace = 'nowrap';
		labelCell.textContent = caps + ' ( ' + percent + '% )';
		// bar
		const barCell = document.createElement('td');
		tr.appendChild(barCell);
		barCell.style.paddingLeft = '0.5em';
		barCell.style.width = '100%'; 
		const bgBar = document.createElement('div');
		barCell.appendChild(bgBar);
		bgBar.style.background = '#dddddd';
		bgBar.style.height = '1em';
		bgBar.style.borderRadius = '0.5em';
		bgBar.style.overflow = 'hidden';
		const fgBar = document.createElement('div');
		bgBar.appendChild(fgBar);
		fgBar.style.height = '1em';
		fgBar.style.width = percent + '%';
		fgBar.style.background = FEATURES[caps].COLOR;
		fgBar.style.borderRadius = '0.5em';
		fgBar.style.transition = 'width 2s ease';
	}
	return wrapping(table);
}

function createUiMatrix(in_score) {
	/*
		root ( relative )
		|
		+- quadrants ( grid + rounded box )
		|	|
		|	+- LT
		|	|
		|	+- RT
		|	|
		|	+- ...
		|
		+- axis label (top)
		|
		+- axis label (bottom)
		|
		+- ...
	*/
	const root = document.createElement('div');
	Object.assign(root.style, {
		position: 'relative',
		width: '70%',
		maxWidth: '600px'
	});
	const quadrants = document.createElement('div');
	Object.assign(quadrants.style, {
		display: 'grid',
		gridTemplateColumns: '1fr 1fr',
		gridTemplateRows: '1fr 1fr',
		aspectRatio: '1 / 1',
		background: '#ffffff',
		border: '1px solid #ccc',
		borderRadius: '5px',
		overflow: 'hidden'
	});
	root.appendChild(quadrants);
	// see "FEATURES[].MATRIX.POSITION"
	const order = ['LT', 'RT', 'LB', 'RB'];
	const cells = {};
	for (const pos of order) {
		const cell = document.createElement('div');
		Object.assign(cell.style, {
			display : 'flex',
			flexDirection : 'column',
			alignItems : 'center',
			justifyContent : 'center',
			textAlign : 'center',
			padding : '1em',
			border : '1px solid #ccc'
		});
		quadrants.appendChild(cell);
		cells[pos] = cell;
	}
	// quadrants
	for (const [caps, info] of Object.entries(FEATURES)) {
		const colors = {fgTitle : '#ccc', bgLabel : '#ccc', bgQuadrant : '#eee'};
		if (in_score[caps].rank === 1) {
			colors.fgTitle = '#000';
			colors.bgLabel = info.COLOR;
			colors.bgQuadrant = info.COLOR + '33';
		}
		const cell = cells[info.MATRIX.POSITION];
		Object.assign(cell.style, {background : colors.bgQuadrant});
		const capsLabel = document.createElement('div');
		Object.assign(capsLabel.style, {
			background :  colors.bgLabel,
			color : '#fff',
			fontSize : '1em',
			fontWeight : '700',
			padding : '0.2em 0.8em',
			borderRadius : '100px',
			marginBottom : '0.7em'
		});
		capsLabel.textContent = caps;
		const capsTitle = document.createElement('div');
		Object.assign(capsTitle.style, {
			color : colors.fgTitle,
			fontSize : '0.8em',
			lineHeight : '1.3em',
			maxWidth : '90%'
		});
		capsTitle.textContent = info.TITLE;
		cell.appendChild(capsLabel);
		cell.appendChild(capsTitle);
	}
	// axis
	const axisStyleCommon = {
		position : 'absolute',
		background : '#fff',
		border : '1px solid #ccc',
		borderRadius : '100px',
		padding : '0.2em 0.8em',
		fontSize : '0.8em',
		color : '#ccc',
		whiteSpace : 'nowrap'
	};
	const axisStyleSpecific = {
		[MATRIX.STATEMENT.S] : {
			right : '0%',
			top : '50%',
			transform : 'translate(50%, -50%) rotate(270deg)',
			transformOrigin: 'center'
		},
		[MATRIX.STATEMENT.W] : {
			left : '0%',
			top : '50%',
			transform : 'translate(-50%, -50%) rotate(270deg)',
			transformOrigin : 'center',
		},
		[MATRIX.SENTIMENT.S] : {
			top : '0%',
			left : '50%',
			transform : 'translate(-50%, -50%)'
		},
		[MATRIX.SENTIMENT.W] : {
			bottom : '0%',
			left : '50%',
			transform : 'translate(-50%, 50%)'
		}
	};
	for (const [text, style] of Object.entries(axisStyleSpecific)) {
		const el = document.createElement('div');
		Object.assign(el.style, axisStyleCommon, style);
		el.textContent = text;
		root.appendChild(el);
	}
	return wrapping(root);
}

function createUiTrait(in_trait, in_resp) {
	const root = document.createElement('div');
	Object.assign(root.style, {
		position: 'relative',
		width : '90%',
		maxWidth : '600px',
		border: '2px solid #ccc',
		borderRadius: '5px',
		padding : '1em'
	});
	const general = document.createElement('div');
	general.textContent = in_resp;
	general.style.marginBottom = '1em';
	root.appendChild(general);
	for (const [labelText, featureArr] of Object.entries(in_trait)) {
		const section = document.createElement('section');
		const header = document.createElement('div');
		header.textContent = labelText;
		section.appendChild(header);
		const ul = document.createElement('ul');
		section.appendChild(ul);
		featureArr.forEach(in_e => {
			const li = document.createElement('li');
			li.textContent = in_e;
			ul.appendChild(li);
		});
		root.appendChild(section);
	}
	return wrapping(root);
}

function createUiRetry() {
	const button = document.createElement('button');
	Object.assign(button.style, {
		color : '#fff',
		backgroundColor : 'gray',
		padding : '0.5em 1em',
		fontWeight : '600',
		border : '1px solid silver',
		borderRadius : '100px'
	});
	button.textContent = 'Retry';
	button.addEventListener('click', in_ev => {
		gState.retry();
		(uiEvaluate)(false)
	});
	return wrapping(button);
}

const APIENTRY = (in_hostname=> {
	const mapping = {
		'localhost' : 'https://localhost/python/',
		'127.0.0.1' : 'https://127.0.0.1/python/',
		'pj-corridor.net' : 'api.pj-corridor.net/personalitytest/lambda/'
	};
	if (Object.hasOwn(mapping, in_hostname)) {
		return mapping[in_hostname];
	} else {
		throw new Error(in_hostname + ' is not supported.');
	}
})(location.hostname);

(function issueChallenge(){
	const img = document.createElement('img');
	img.src = APIENTRY + 'challenge';
	img.style.visibility = 'hidden';
	document.body.appendChild(img);
})();

async function llm(in_payload) {
	console.log(in_payload);
	const errorText = '( Now LLM is not available )';
	try {
		const response = await fetch(APIENTRY + 'generate', {
			method : 'POST',
			headers : {'Content-Type' : 'application/json'},
			credentials : 'include',
			body : JSON.stringify(in_payload)
		});
		if (!response.ok) {
			return errorText;
		}
		return await response.text();
	} catch (err) {
		return errorText;
	}
}

function uiFeedback(in_result, in_resp) {
	const view = document.querySelector('#iFeedback');
	view.replaceChildren();
	const bar = createUiBar(in_result.uiScores);
	view.appendChild(bar);
	const matrix = createUiMatrix(in_result.uiScores);
	view.appendChild(matrix);
	const trait = createUiTrait(in_result.uiTrait, in_resp);
	view.appendChild(trait);
	const retry = createUiRetry();
	view.appendChild(retry);
}

const uiEvaluate = (() => {
	const closure = {
		list : document.querySelector('#iTestList'),
		back : document.querySelector('#iBack'),
		lsKey : 'personalitytest',
		currIx : 0,
		cardArr : []
	};
	closure.list.addEventListener('answered', in_ev => {
		const result = in_ev.detail;
		const prev = closure.cardArr[result.qIx];
		prev.disable();
		if (result.qIx < QUESTIONS.length - 1) {
			closure.currIx = result.qIx + 1;
			const curr = closure.cardArr[closure.currIx];
			curr.enable();
			const delayAfterAnswered = 200;
			setTimeout(() => scroll(curr, closure.list), delayAfterAnswered);
		} else {
			gState.finish();
			(async () => {
				const result = composeResult(in_qIx => closure.cardArr[in_qIx].getResult().aIx);
				const resp = await llm({summary : result.llmSummary, qa : result.llmQaArr});
				localStorage.setItem(closure.lsKey, JSON.stringify({result, resp}));
				gState.result();
				uiFeedback(result, resp);
			})();
		}
	});
	closure.back.addEventListener('click', in_ev => {
		if (closure.currIx === 0) {
			return;
		}
		closure.currIx--;
		const curr = closure.cardArr[closure.currIx];
		scroll(curr, closure.list);
		const delayAfterDisplayed = 100;
		const style =getComputedStyle(closure.list);
		let duration = parseFloat(style.transitionDuration);
		if (!style.transitionDuration.endsWith('ms')) {
			duration = duration * 1000;
		}
		curr.enable(duration + delayAfterDisplayed);
	});
	return (in_useCache = true) => {
		const stored = localStorage.getItem(closure.lsKey);
		if (in_useCache && stored) {
			const {result, resp} = JSON.parse(stored);
			gState.cached();
			uiFeedback(result, resp);
		} else {
			// shuffle
			QUESTIONS.sort(() => Math.random() - 0.5);
			// reset contents
			closure.cardArr = [];
			closure.list.replaceChildren();
			closure.list.style.paddingTop = cCard.margin;
			closure.list.style.paddingBottom = cCard.margin;
			for (let qIx = 0; qIx < QUESTIONS.length; qIx++) {
				const card = new cCard(QUESTIONS, qIx, ANSWERS);
				closure.list.appendChild(card.element);
				closure.cardArr.push(card);
			}
			closure.currIx = 0;
			closure.cardArr[0].enable();
			scroll(closure.cardArr[0], closure.list);
			const view = document.querySelector('#iEvaluate');
			view.style.height = closure.cardArr[0].element.offsetHeight * 2.0 + 'px';
		}
	};
})();

//const testmode = true;
const testmode = false;

if (testmode) {
	uiEvaluate(false);
	gState.finish();
	setTimeout(async () => {
		const result = composeResult(in_qIx => Math.floor(Math.random() * ANSWERS.length));
		const resp = await llm({summary : result.llmSummary, qa : result.llmQaArr});
		gState.result();
		uiFeedback(result, resp);
	}, 1000);
} else {
	uiEvaluate(true);
}

</script>
</body>
</html>
